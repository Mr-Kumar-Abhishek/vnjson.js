{"version":3,"sources":["webpack:///webpack/bootstrap 1b16207f3b6a044d1435?c04c","webpack:///./plugins/index.js?636d","webpack:///./plugins/src/alias.js?557d","webpack:///./plugins/src/audio.js?ab68","webpack:///./plugins/src/center.js?001e","webpack:///./plugins/src/debug.js?0801","webpack:///./plugins/src/jump.js?4e06","webpack:///./plugins/src/left.js?94fd","webpack:///./plugins/src/right.js?3ac6","webpack:///./plugins/src/scene.js?f60c","webpack:///./plugins/src/sound.js?22cf"],"names":["vnjs","alias","character","reply","nameBox","document","getElementById","textBox","innerHTML","name","style","color","ctx","game","catalog","parse","screen","init","speed","i","print","length","clearInterval","intId","setInterval","on","data","event","center","background","console","error","left","right","scene"],"mappings":"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","file":"dist/plugins.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1b16207f3b6a044d1435\n **/","import alias from './src/alias';\r\nimport audio from './src/audio';\r\nimport center from './src/center';\r\nimport debug from './src/debug';\r\nimport jump from './src/jump';\r\nimport left from './src/left';\r\nimport right from './src/right';\r\nimport scene from './src/scene';\r\nimport sound from './src/sound';\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/index.js\n **/","vnjs.alias = function(character, reply){\r\n  let nameBox = document.getElementById('name_box');\r\n  let textBox = document.getElementById('text_box');\r\n  nameBox.innerHTML = character.name;\r\n  nameBox.style.color = character.color;\r\n\r\n let {ctx, game, catalog, parse } = this;\r\n    let screen = document.getElementById(game.init.screen);\r\n\r\n\r\n      var speed = 0;\r\n  var i = 0;\r\n\r\n  \r\nif(speed != 0){\r\n  \r\ntextBox.innerHTML = \"\";\r\n\r\n  function print(){\r\n   /* screen.removeEventListener('mousedown',function(){\r\n        parse(ctx, catalog);\r\n    },false);*/\r\n    textBox.innerHTML += reply[i];\r\n    \r\n    i++\r\n  \r\n    if(i>reply.length-1){\r\n      clearInterval(intId);\r\n      /*   screen.addEventListener('mousedown', function(){\r\n        parse(ctx, catalog);\r\n    }); */\r\n    }\r\n\r\n  }\r\n  var intId = setInterval(print, speed);\r\n  \r\n}\r\nelse {\r\n    textBox.innerHTML = reply;\r\n} \r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/alias.js\n **/","vnjs.on('audio', function(data, event){\r\n /* var sound = new Howl({\r\n  src: ['/game/assets/'+data+'.mp3']\r\n});\r\n\r\nsound.play();*/\r\n\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/audio.js\n **/","vnjs.on('center', function (data, event){\r\n          let center = document.getElementById('center');\r\n           center.style.background = `url(/game/assets/${data}.png)`;\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/center.js\n **/","vnjs.on(function(){\r\n  console.error('[warn] {autorun} запускается два раза по загрузке сцены')\r\n/*var gui = new dat.gui.GUI();\r\nlet { ctx, game, parse, catalog } = vnjs;\r\n\r\n  let obj = {\r\n        head: {\r\n          title: 'vnjson@0.4.3',\r\n        },\r\n        'parse()': ()=>{\r\n          parse(ctx, catalog);\r\n        },\r\n\r\n        audio: false,\r\n        characters: ()=>{\r\n          return game.scenes[ctx.scene].characters;\r\n        },\r\n        pathname: `${ctx.scene}/${ctx.label}/${ctx.num}`\r\n    };\r\n\r\n  \r\n    \r\n\r\n\r\n    gui.add(obj.head, 'title');\r\n    gui.add(obj, 'parse()');\r\n    gui.add(obj, 'characters');\r\n    gui.add(obj, 'audio');\r\n    gui.add(obj, 'pathname');\r\n\r\n   */\r\n\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/debug.js\n **/","/*vnjs.jump = function(pathname){\r\n  var ctx = this.ctx;\r\n  var game = vnjs.game;\r\n\r\nlet isScene = /\\/\\w+/gi.test(pathname);\r\n\r\nif(isScene){\r\n   console.info(`[ ${pathname} ]`);\r\n  const pathArr = pathname.split('/');\r\n  ctx.num = 0;\r\n  ctx.scene = pathArr[0];\r\n  ctx.label  = pathArr[1];\r\n \r\n  this.getScene(ctx.scene);\r\n\r\n \r\n}\r\n\r\nelse{\r\n \r\n   ctx.num = 0;\r\n   ctx.label = pathname;\r\n   ctx.arr = game.scenes[ctx.scene].labels[ctx.label];\r\n   console.warn('[ is label ]: '+pathname);\r\n   this.parse(ctx, this.catalog);\r\n};\r\n};*/\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/jump.js\n **/","vnjs.on('left', function (data, event){\r\n  let left = document.getElementById('left');\r\n      left.style.background = `url(/game/assets/${data}.png)`;\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/left.js\n **/","vnjs.on('right', function (data, event){\r\n  let right = document.getElementById('right');\r\n      right.style.background = `url(/game/assets/${data}.png)`;\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/right.js\n **/","vnjs.on('scene',  function (data, event){\r\n          let scene = document.getElementById('scene');\r\n          scene.style.background = `url(/game/assets/${data}.png)`;\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/scene.js\n **/","vnjs.on('sound', function(data, event){\r\n  /*var sound = new Howl({\r\n  src: ['/game/assets/'+data+'.mp3']\r\n});\r\n  sound.play();*/\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/sound.js\n **/"],"sourceRoot":""}