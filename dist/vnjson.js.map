{"version":3,"sources":["webpack:///webpack/bootstrap 000f2391ce20e11e47f6","webpack:///./src/vnjson.js","webpack:///./src/minivents.js","webpack:///./src/unfetch.js"],"names":["ctx","sceneName","labelName","scene","label","obj","num","screen","jumps","data","points","ev","emit","off","fn","config","init","_config","game","scenes","package","assets","settings","on","event","handler","vnjs","setScene","sceneObject","forEach","item","push","setLabel","err","Error","labelArray","parse","length","_obj","replace","split","ob","key","next","console","log","labelname","len","prev","indexOf","pop","jumpTo","join","fetch","Events","target","events","empty","type","func","list","i","splice","e","slice","j","apply","call","arguments","index","bind","url","options","Promise","resolve","reject","request","XMLHttpRequest","open","method","headers","setRequestHeader","withCredentials","credentials","onload","response","onerror","send","body","keys","all","header","getAllResponseHeaders","m","value","toLowerCase","ok","status","statusText","responseURL","clone","text","responseText","json","then","JSON","blob","Blob","entries","get","n","has"],"mappings":"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","file":"dist/vnjson.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 000f2391ce20e11e47f6","\r\nimport Events         from './minivents'; \r\nimport fetch          from './unfetch';\r\n/*\r\n * context\r\n * Значение объекта равно состоянию приложения.\r\n */\r\n/** state **/\r\nvar ctx = {\r\n  sceneName:'scene',\r\n  labelName:'label',\r\n  scene: {},\r\n  label: [],\r\n  obj: null,\r\n  num: 0,\r\n  screen: '',\r\n  jumps: [],\r\n  data: {\r\n    points: 0\r\n  },\r\n};\r\n\r\n\r\nvar ev = new Events();//EventEmitter\r\nvar { emit, off } = ev;\r\n\r\n\r\nvar fn = {};\r\n//конфигурацию тоже сохранять в memory-card\r\nvar config = {};\r\n\r\nfunction init(_config){\r\n config = _config||config;\r\n emit('getscreens');\r\n return this;\r\n};\r\n\r\nvar game = {\r\n    scenes: {},\r\n    package: {\r\n      \r\n    },\r\n    assets: [],\r\n    settings: {}\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * @plugins\r\n * Регистратор пользовательских событий\r\n */\r\n/*\r\n * Объект plugin нужен для тестирования\r\n * что бы можно было вызывать плагин из\r\n * текущего окружения, а не плодить глобальные\r\n * методы.\r\n */ \r\n\r\nfunction on(event, handler){\r\n      fn[event] = handler;\r\n      ev.on(event, handler, vnjs);\r\n      return this;\r\n};\r\n\r\n\r\n\r\n\r\n/*\r\n * setScene\r\n * @Функция принимает объект сцены\r\n */\r\nfunction setScene(sceneName, sceneObject, labelName, num) {\r\n  try{\r\n   \r\n    /*\r\n     * Назначаем полученные данные сцены в\r\n     * игровые объекты.\r\n     * А так же объекты внутреннего назначения\r\n     */\r\n    game.scenes[sceneName] = sceneObject;\r\n    ctx.scene = sceneObject;\r\n    ctx.sceneName = sceneName;\r\n\r\n    /*\r\n     * Переопределяю методы текущего label'a\r\n     */\r\n    sceneObject.assets.forEach((item)=>{\r\n        game.assets.push(item);\r\n    });\r\n\r\n    setLabel(labelName, sceneObject[labelName], num);\r\n    \r\n    emit('load', sceneObject.assets, sceneName);\r\n    \r\n   \r\n    return this;\r\n  }\r\n  catch (err){\r\n    throw new Error('Ошибка объявления сцены ', err);\r\n    return false;\r\n  }\r\n};\r\n\r\n\r\nfunction setLabel(labelName, labelArray, num){\r\n            ctx.labelName = labelName;\r\n            ctx.label = labelArray;\r\n            ctx.num = num;\r\n            parse();\r\n            emit('setlabel', labelName, labelArray.length);\r\n            return this;\r\n};\r\n\r\nfunction parse(_obj){\r\n/** Текущий объект */\r\nif(_obj){\r\n    if(typeof _obj==='object'){\r\n          /*parse({jump: 'scene/label'})*/\r\n          ctx.obj = _obj;\r\n    }\r\n    else if(typeof _obj==='string'){\r\n      /* parse('jump: string/string') */\r\n      /* Убираю пробелы из строки и разбиваю на массив*/\r\n      let data = _obj.replace(/\\s/g, \"\").split(':');\r\n   \r\n        var ob = {\r\n            [data[0]]: data[1] \r\n          };\r\n        ctx.obj = ob;\r\n    }\r\n    \r\n}else{\r\n    /* parse() without args */\r\n    ctx.obj = ctx.label[ctx.num];\r\n}  \r\n  \r\n\r\n  for(let key in ctx.obj){\r\n  /*\r\n         * vnjs.on('alert')\r\n         * Подписывает пользовательские плагины\r\n         * \r\n         */\r\n        ev.emit(key, ctx.obj[key]);\r\n  }\r\n  emit('parse', ctx.obj);\r\n  return this;;\r\n};\r\n\r\n\r\n\r\nfunction next(){\r\n  let { label, num } = ctx;\r\n  \r\nif(num>=label.length){\r\n  console.log('Конец метки');\r\n  ctx.num = 0;\r\n}\r\n  ctx.num++;\r\n  parse();\r\n  emit('next');\r\n  return ctx.num;\r\n};\r\n\r\non('setlabel', function(labelname, len){\r\n let { sceneName, labelName } = vnjs.ctx;\r\n    \r\n     ctx.jumps.push({sceneName, labelName, len});\r\n});\r\n/*\r\n * Должна показывать предыдущие экраны\r\n * А так же все движения между метками и сценами\r\n * \r\n */\r\nfunction prev(){\r\n\r\n let { jumps, label } = ctx;\r\n  if(label.indexOf(-1)){\r\n    if(jumps.indexOf(0)){\r\n       // parse(`screen: ${fn.prevScreen}`)//preloader??\r\n       console.log('Начало игры');\r\n       ctx.num = 0;\r\n       /*fn.prevScreen it should to be array*/\r\n    }else{\r\n      let { sceneName, labelName, len } = jumps.pop();\r\n      let jumpTo = [ sceneName, labelName, len ].join(\"/\");\r\n      parse('jump: '+jumpTo)\r\n    }\r\n  }else{\r\n      ctx.num--;\r\n      parse();\r\n  }\r\n\r\n  emit('prev');\r\n  return ctx.num;\r\n};\r\n\r\n\r\n\r\n\r\n/*\r\n * @api\r\n */\r\nexport {\r\n  on,\r\n  ctx,\r\n  game,\r\n  setScene,\r\n  setLabel,\r\n  config,\r\n  next,\r\n  prev,\r\n  parse,\r\n  emit,\r\n  off,\r\n  init,\r\n  fn,\r\n  fetch\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/vnjson.js","function Events(target){\r\n  var events = {}, empty = [];\r\n  target = target || this;\r\n  /**\r\n   *  On: listen to events\r\n   */\r\n  target.on = function(type, func, ctx){\r\n    (events[type] = events[type] || []).push([func, ctx]);\r\n  };\r\n  /**\r\n   *  Off: stop listening to event / specific callback\r\n   */\r\n  target.off = function(type, func){\r\n    type || (events = {});\r\n    var list = events[type] || empty,\r\n        i = list.length = func ? list.length : 0;\r\n    while(i--) func == list[i][0] && list.splice(i,1);\r\n  };\r\n  /** \r\n   * Emit: send event, callbacks will be triggered\r\n   */\r\n  target.emit = function(type){\r\n    var e = events[type] || empty, list = e.length > 0 ? e.slice(0, e.length) : e, i=0, j;\r\n    while(j=list[i++]) j[0].apply(j[1], empty.slice.call(arguments, 1));\r\n  };\r\n};\r\n\r\nexport default Events;\n\n\n// WEBPACK FOOTER //\n// ./src/minivents.js","var index = typeof fetch=='function' ? fetch.bind() : function(url, options) {\n\toptions = options || {};\n\treturn new Promise( function (resolve, reject) {\n\t\tvar request = new XMLHttpRequest();\n\n\t\trequest.open(options.method || 'get', url);\n\n\t\tfor (var i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\trequest.onload = function () {\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.send(options.body);\n\n\t\tfunction response() {\n\t\t\tvar keys = [],\n\t\t\t\tall = [],\n\t\t\t\theaders = {},\n\t\t\t\theader;\n\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):\\s*([\\s\\S]*?)$/gm, function (m, key, value) {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theader = headers[key];\n\t\t\t\theaders[key] = header ? (header + \",\" + value) : value;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tok: (request.status/200|0) == 1,\t\t// 200-299\n\t\t\t\tstatus: request.status,\n\t\t\t\tstatusText: request.statusText,\n\t\t\t\turl: request.responseURL,\n\t\t\t\tclone: response,\n\t\t\t\ttext: function () { return Promise.resolve(request.responseText); },\n\t\t\t\tjson: function () { return Promise.resolve(request.responseText).then(JSON.parse); },\n\t\t\t\tblob: function () { return Promise.resolve(new Blob([request.response])); },\n\t\t\t\theaders: {\n\t\t\t\t\tkeys: function () { return keys; },\n\t\t\t\t\tentries: function () { return all; },\n\t\t\t\t\tget: function (n) { return headers[n.toLowerCase()]; },\n\t\t\t\t\thas: function (n) { return n.toLowerCase() in headers; }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n};\n\nexport default index;\n//# sourceMappingURL=unfetch.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/unfetch.js"],"sourceRoot":""}